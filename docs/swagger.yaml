basePath: /v1
definitions:
  accesscontrol.Role:
    properties:
      created_at:
        type: string
      description:
        type: string
      id:
        type: integer
      name:
        type: string
      updated_at:
        type: string
    type: object
  admindashboard.Overview:
    properties:
      total_active_users:
        type: integer
      total_active_venues:
        type: integer
      total_badminton_games:
        type: integer
      total_basketball_games:
        type: integer
      total_bookings:
        description: Bookings
        type: integer
      total_completed_bookings:
        type: integer
      total_confirmed_bookings:
        type: integer
      total_futsal_games:
        description: Games
        type: integer
      total_inactive_users:
        type: integer
      total_pending_bookings:
        type: integer
      total_pending_venue_requests:
        type: integer
      total_pending_venues:
        type: integer
      total_rejected_bookings:
        type: integer
      total_users:
        description: Users
        type: integer
      total_venue_requests:
        description: Venue Requests
        type: integer
      total_venues:
        description: Venues
        type: integer
    type: object
  ads.Ad:
    properties:
      active:
        type: boolean
      clicks:
        type: integer
      created_at:
        type: string
      description:
        type: string
      display_order:
        type: integer
      id:
        type: integer
      image_alt:
        type: string
      image_url:
        type: string
      impressions:
        type: integer
      link:
        type: string
      title:
        type: string
      updated_at:
        type: string
    type: object
  ads.Analytics:
    properties:
      active_ads:
        type: integer
      average_ctr:
        type: number
      top_performing_ads:
        items:
          $ref: '#/definitions/ads.Ad'
        type: array
      total_ads:
        type: integer
      total_clicks:
        type: integer
      total_impressions:
        type: integer
    type: object
  ads.DisplayOrderUpdate:
    properties:
      displayOrder:
        type: integer
      id:
        type: integer
    type: object
  appreviews.AppReview:
    properties:
      created_at:
        type: string
      feedback:
        type: string
      id:
        type: integer
      rating:
        type: integer
      user_id:
        type: integer
    type: object
  bookings.PricingSlot:
    properties:
      dayOfWeek:
        type: string
      endTime:
        type: string
      id:
        type: integer
      price:
        type: integer
      startTime:
        description: |-
          Note: start_time and end_time are stored as TIME in the DB.
          We use time.Time to hold the time part.
        type: string
      venueID:
        type: integer
    type: object
  bookings.ScheduledBooking:
    properties:
      accepted_at:
        type: string
      booking_id:
        type: integer
      customer_name:
        description: optional
        type: string
      customer_phone:
        description: optional
        type: string
      end_time:
        type: string
      note:
        description: optional
        type: string
      price:
        type: integer
      start_time:
        type: string
      user_id:
        type: integer
      user_image:
        type: string
      user_name:
        type: string
      user_number:
        type: string
    type: object
  gameqa.Question:
    properties:
      created_at:
        type: string
      game_id:
        type: integer
      id:
        type: integer
      question:
        type: string
      updated_at:
        type: string
      user_id:
        type: integer
    type: object
  gameqa.QuestionWithReplies:
    properties:
      created_at:
        type: string
      id:
        type: integer
      question:
        type: string
      replies:
        items:
          $ref: '#/definitions/gameqa.Reply'
        type: array
    type: object
  gameqa.Reply:
    properties:
      admin_id:
        type: integer
      created_at:
        type: string
      id:
        type: integer
      question_id:
        type: integer
      reply:
        type: string
      updated_at:
        type: string
    type: object
  games.BookingStatus:
    enum:
    - pending
    - requested
    - booked
    - rejected
    - cancelled
    type: string
    x-enum-varnames:
    - BookingPending
    - BookingRequested
    - BookingBooked
    - BookingRejected
    - BookingCancelled
  games.Game:
    properties:
      admin_id:
        description: Foreign key to users table (game admin)
        type: integer
      booking_status:
        $ref: '#/definitions/games.BookingStatus'
      created_at:
        description: Timestamp when the game was created
        type: string
      end_time:
        description: Game end time
        type: string
      format:
        description: Game format (nullable)
        type: string
      game_level:
        description: Skill level (beginner, intermediate, advanced)
        type: string
      id:
        description: Primary key
        type: integer
      instruction:
        description: Game instructions (nullable)
        type: string
      match_full:
        description: Whether the game is full
        type: boolean
      max_players:
        description: Maximum number of players
        type: integer
      price:
        description: Price of the game (nullable)
        type: integer
      sport_type:
        description: Type of sport (e.g., futsal, basketball)
        type: string
      start_time:
        description: Game start time
        type: string
      status:
        description: Game status (active, cancelled, completed)
        type: string
      updated_at:
        description: Timestamp when the game was last updated
        type: string
      venue_id:
        description: Foreign key to venues table
        type: integer
      visibility:
        description: Visibility (public or private)
        type: string
    type: object
  games.GameDetails:
    properties:
      admin_id:
        type: integer
      booking_status:
        $ref: '#/definitions/games.BookingStatus'
      current_player:
        type: integer
      end_time:
        type: string
      format:
        type: string
      game_admin_name:
        type: string
      game_id:
        type: integer
      game_level:
        type: string
      match_full:
        type: boolean
      max_players:
        type: integer
      player_ids:
        description: all joined player user IDs
        items:
          type: integer
        type: array
      player_images:
        items:
          type: string
        type: array
      price:
        type: integer
      requested_player_ids:
        description: pending request user IDs
        items:
          type: integer
        type: array
      sport_type:
        type: string
      start_time:
        type: string
      status:
        type: string
      venue_id:
        type: integer
      venue_lat:
        type: number
      venue_lon:
        type: number
      venue_name:
        type: string
    type: object
  games.GameRequestStatus:
    enum:
    - pending
    - accepted
    - rejected
    type: string
    x-enum-varnames:
    - GameRequestStatusPending
    - GameRequestStatusAccepted
    - GameRequestStatusRejected
  games.GameRequestWithUser:
    properties:
      first_name:
        type: string
      game_id:
        type: integer
      id:
        type: integer
      phone:
        type: string
      profile_picture_url:
        type: string
      request_time:
        type: string
      skill_level:
        type: string
      status:
        $ref: '#/definitions/games.GameRequestStatus'
      updated_at:
        type: string
      user_id:
        type: integer
    type: object
  games.GameSummary:
    properties:
      booking_status:
        $ref: '#/definitions/games.BookingStatus'
      current_player:
        type: integer
      end_time:
        type: string
      format:
        type: string
      game_admin_name:
        type: string
      game_id:
        type: integer
      game_level:
        type: string
      match_full:
        type: boolean
      max_players:
        type: integer
      player_images:
        items:
          type: string
        type: array
      price:
        type: integer
      shortlisted:
        type: boolean
      sport_type:
        type: string
      start_time:
        type: string
      status:
        type: string
      venue_id:
        type: integer
      venue_lat:
        description: Venue latitude
        type: number
      venue_lon:
        description: Venue longitude
        type: number
      venue_name:
        type: string
    type: object
  games.ShortlistedGameDetail:
    properties:
      admin_id:
        description: Foreign key to users table (game admin)
        type: integer
      booking_status:
        $ref: '#/definitions/games.BookingStatus'
      created_at:
        description: Timestamp when the game was created
        type: string
      end_time:
        description: Game end time
        type: string
      format:
        description: Game format (nullable)
        type: string
      game_level:
        description: Skill level (beginner, intermediate, advanced)
        type: string
      id:
        description: Primary key
        type: integer
      instruction:
        description: Game instructions (nullable)
        type: string
      match_full:
        description: Whether the game is full
        type: boolean
      max_players:
        description: Maximum number of players
        type: integer
      price:
        description: Price of the game (nullable)
        type: integer
      sport_type:
        description: Type of sport (e.g., futsal, basketball)
        type: string
      start_time:
        description: Game start time
        type: string
      status:
        description: Game status (active, cancelled, completed)
        type: string
      updated_at:
        description: Timestamp when the game was last updated
        type: string
      venue_address:
        type: string
      venue_id:
        description: Foreign key to venues table
        type: integer
      venue_name:
        type: string
      visibility:
        description: Visibility (public or private)
        type: string
    type: object
  main.AdminCreateUserPayload:
    properties:
      email:
        type: string
      first_name:
        maxLength: 50
        minLength: 1
        type: string
      last_name:
        maxLength: 50
        minLength: 1
        type: string
      no_of_games:
        maximum: 32767
        minimum: 0
        type: integer
      password:
        maxLength: 72
        minLength: 4
        type: string
      phone:
        description: 'use `nepaliphone` if you want: validate:"required,nepaliphone"`'
        type: string
      profile_picture_url:
        type: string
      skill_level:
        enum:
        - beginner
        - intermediate
        - advanced
        type: string
    required:
    - email
    - first_name
    - last_name
    - password
    - phone
    type: object
  main.AdminOrderDetailResponse:
    properties:
      items:
        items:
          $ref: '#/definitions/orders.OrderItem'
        type: array
      order:
        $ref: '#/definitions/orders.Order'
    type: object
  main.AdminOrderListResponse:
    properties:
      orders:
        items:
          $ref: '#/definitions/orders.Order'
        type: array
      pagination:
        $ref: '#/definitions/params.Pagination'
      status:
        description: applied filter (echoed back)
        type: string
    type: object
  main.AdminUpdateOrderStatusRequest:
    properties:
      cancelled_reason:
        example: Customer requested
        type: string
      status:
        example: shipped
        type: string
    type: object
  main.AdminUpdateOrderStatusResponse:
    properties:
      message:
        example: status updated
        type: string
      status:
        example: shipped
        type: string
    type: object
  main.AdminVenueListFilters:
    properties:
      sport:
        description: '"" when not filtered'
        type: string
      status:
        description: '"" when not filtered'
        type: string
    type: object
  main.AppReviewPayload:
    properties:
      feedback:
        type: string
      rating:
        type: integer
    type: object
  main.BookVenuePayload:
    properties:
      end_time:
        type: string
      start_time:
        type: string
    required:
    - end_time
    - start_time
    type: object
  main.BookingResponse:
    properties:
      created_at:
        type: string
      customer_name:
        type: string
      customer_phone:
        type: string
      end_time:
        type: string
      id:
        type: string
      note:
        type: string
      start_time:
        type: string
      status:
        type: string
      total_price:
        type: integer
      updated_at:
        type: string
      user_id:
        type: integer
      venue_id:
        type: integer
    type: object
  main.BulkCreatePricingPayload:
    properties:
      slots:
        description: we use dive, required to ensure each item inside the array is
          individually validated.
        items:
          $ref: '#/definitions/main.CreatePricingPayload'
        type: array
    required:
    - slots
    type: object
  main.BulkRemoveTokensRequest:
    properties:
      tokens:
        items:
          type: string
        minItems: 1
        type: array
    required:
    - tokens
    type: object
  main.CreateGamePayload:
    properties:
      end_time:
        type: string
      format:
        maxLength: 20
        type: string
      game_level:
        enum:
        - beginner
        - intermediate
        - advanced
        type: string
      instruction:
        maxLength: 500
        type: string
      max_players:
        minimum: 1
        type: integer
      price:
        minimum: 0
        type: integer
      sport_type:
        enum:
        - futsal
        - basketball
        - badminton
        - e-sport
        - cricket
        - tennis
        type: string
      start_time:
        type: string
      venue_id:
        minimum: 1
        type: integer
      visibility:
        enum:
        - public
        - private
        type: string
    required:
    - end_time
    - max_players
    - sport_type
    - start_time
    - venue_id
    - visibility
    type: object
  main.CreatePricingPayload:
    properties:
      day_of_week:
        enum:
        - sunday
        - monday
        - tuesday
        - wednesday
        - thursday
        - friday
        - saturday
        type: string
      end_time:
        description: format "15:04:05"
        type: string
      price:
        type: integer
      start_time:
        description: format "15:04:05"
        type: string
    required:
    - day_of_week
    - end_time
    - price
    - start_time
    type: object
  main.CreateUserTokenPayload:
    properties:
      email:
        maxLength: 255
        type: string
      password:
        maxLength: 72
        minLength: 3
        type: string
    required:
    - email
    - password
    type: object
  main.Envelope:
    properties:
      data:
        $ref: '#/definitions/main.TokenResponse'
    type: object
  main.ErrorBadRequestResponse:
    description: Standard error response format returned by all bad request API endpoints
    properties:
      message:
        example: It show error from err.Error()
        type: string
      status:
        example: 400
        type: integer
      success:
        example: false
        type: boolean
    type: object
  main.ErrorInternalServerResponse:
    description: Standard error response format returned by all internal server error
      API endpoints
    properties:
      message:
        example: the server encountered a problem
        type: string
      status:
        example: 500
        type: integer
      success:
        example: false
        type: boolean
    type: object
  main.HourlySlot:
    properties:
      available:
        type: boolean
      end_time:
        type: string
      price_per_hour:
        type: integer
      start_time:
        type: string
    type: object
  main.ManualBookingPayload:
    properties:
      customer_email:
        type: string
      customer_name:
        maxLength: 100
        type: string
      customer_number:
        type: string
      end_time:
        type: string
      note:
        maxLength: 255
        type: string
      price:
        type: integer
      start_time:
        type: string
    required:
    - end_time
    - price
    - start_time
    type: object
  main.PendingBookingResponse:
    properties:
      booking_id:
        description: now encoded string
        type: string
      end_time:
        type: string
      price:
        type: integer
      requested_at:
        type: string
      start_time:
        type: string
      user_id:
        type: integer
      user_image:
        description: nullable
        type: string
      user_name:
        type: string
      user_number:
        type: string
    type: object
  main.PlayerResponse:
    properties:
      first_name:
        type: string
      id:
        type: integer
      phone:
        type: string
      profile_picture_url:
        type: string
      skill_level:
        type: string
    type: object
  main.PruneStaleTokensRequest:
    properties:
      older_than:
        type: string
    required:
    - older_than
    type: object
  main.QuestionPayload:
    properties:
      question:
        maxLength: 120
        type: string
    required:
    - question
    type: object
  main.RefreshPayload:
    properties:
      refresh_token:
        type: string
    required:
    - refresh_token
    type: object
  main.RegisterUserPayload:
    properties:
      email:
        maxLength: 255
        type: string
      first_name:
        maxLength: 50
        type: string
      last_name:
        maxLength: 50
        type: string
      password:
        maxLength: 72
        minLength: 3
        type: string
      phone:
        type: string
    required:
    - email
    - first_name
    - last_name
    - password
    - phone
    type: object
  main.RemovePushTokenRequest:
    properties:
      token:
        type: string
    required:
    - token
    type: object
  main.ReplyPayload:
    properties:
      reply:
        maxLength: 120
        type: string
    required:
    - reply
    type: object
  main.RequestResetPasswordPayload:
    properties:
      email:
        maxLength: 255
        type: string
    required:
    - email
    type: object
  main.ResetPasswordPayload:
    properties:
      password:
        maxLength: 72
        minLength: 3
        type: string
      token:
        type: string
    required:
    - password
    - token
    type: object
  main.SavePushTokenRequest:
    properties:
      device_info:
        type: object
      token:
        type: string
    required:
    - token
    type: object
  main.ScheduledBookingResponse:
    properties:
      accepted_at:
        type: string
      booking_id:
        type: string
      customer_name:
        description: optional
        type: string
      customer_phone:
        description: optional
        type: string
      end_time:
        type: string
      note:
        description: optional
        type: string
      price:
        type: integer
      start_time:
        type: string
      user_id:
        type: integer
      user_image:
        type: string
      user_name:
        type: string
      user_number:
        type: string
    type: object
  main.SessionResponse:
    properties:
      expires_at:
        description: unix seconds (optional but nice)
        type: integer
      role:
        type: string
      user_id:
        type: string
    type: object
  main.TokenResponse:
    properties:
      access_token:
        type: string
      refresh_token:
        type: string
      role:
        type: string
      user_id:
        type: string
    type: object
  main.UpdatePricingPayload:
    properties:
      day_of_week:
        type: string
      end_time:
        description: Format "15:04:05"
        type: string
      price:
        type: integer
      start_time:
        description: Format "15:04:05"
        type: string
    type: object
  main.UserBookingResponse:
    properties:
      booking_id:
        description: encoded
        type: string
      created_at:
        type: string
      end_time:
        type: string
      start_time:
        type: string
      status:
        type: string
      total_price:
        type: integer
      venue_address:
        type: string
      venue_id:
        type: integer
      venue_name:
        type: string
    type: object
  main.UserWithToken:
    properties:
      token:
        type: string
      user:
        $ref: '#/definitions/users.User'
    type: object
  main.VenueDetailResponse:
    properties:
      address:
        type: string
      amenities:
        items:
          type: string
        type: array
      average_rating:
        type: number
      completed_games:
        type: integer
      created_at:
        type: string
      description:
        type: string
      id:
        type: integer
      image_urls:
        items:
          type: string
        type: array
      location:
        description: '[latitude, longitude]'
        items:
          type: number
        type: array
      name:
        type: string
      open_time:
        type: string
      owner_id:
        type: integer
      phone_number:
        type: string
      sport:
        type: string
      total_reviews:
        type: integer
      upcoming_games:
        type: integer
      updated_at:
        type: string
    type: object
  main.VenueListResponse:
    properties:
      address:
        type: string
      average_rating:
        type: number
      id:
        type: integer
      image_urls:
        items:
          type: string
        type: array
      is_favorite:
        type: boolean
      location:
        description: '[longitude, latitude]'
        items:
          type: number
        type: array
      name:
        type: string
      open_time:
        type: string
      phone_number:
        type: string
      sport:
        type: string
      total_reviews:
        type: integer
    type: object
  main.VenueListWithMetaResponse:
    properties:
      filters:
        $ref: '#/definitions/main.AdminVenueListFilters'
      pagination:
        $ref: '#/definitions/params.Pagination'
      venues:
        items:
          $ref: '#/definitions/main.VenueListResponse'
        type: array
    type: object
  main.VenueSearchFTSResponse:
    properties:
      data:
        properties:
          query:
            type: string
          search_type:
            type: string
          venues:
            items:
              $ref: '#/definitions/venues.VenueListingWithRank'
            type: array
        type: object
    type: object
  main.VenueSearchResponse:
    properties:
      data:
        properties:
          query:
            type: string
          search_type:
            type: string
          venues:
            items:
              $ref: '#/definitions/venues.VenueListing'
            type: array
        type: object
    type: object
  main.adminApproveVenueReqPayload:
    properties:
      admin_note:
        type: string
      owner_id:
        type: integer
    type: object
  main.adminRejectVenueReqPayload:
    properties:
      admin_note:
        type: string
    type: object
  main.assignRoleRequest:
    properties:
      role_id:
        description: ID from roles table
        type: integer
    type: object
  main.bulkUpdateDisplayOrderPayload:
    properties:
      updates:
        items:
          $ref: '#/definitions/ads.DisplayOrderUpdate'
        minItems: 1
        type: array
    required:
    - updates
    type: object
  main.createReviewPayload:
    properties:
      comment:
        maxLength: 500
        type: string
      rating:
        maximum: 5
        minimum: 1
        type: integer
    required:
    - comment
    - rating
    type: object
  main.createVenueRequestPayload:
    properties:
      address:
        type: string
      amenities:
        items:
          type: string
        type: array
      cf_turnstile_response:
        description: 'Security fields:'
        type: string
      company:
        description: honeypot field name; hidden input in UI
        type: string
      description:
        type: string
      location:
        description: '[lon, lat]'
        items:
          type: number
        type: array
      name:
        type: string
      open_time:
        type: string
      phone_number:
        type: string
      sport:
        type: string
    type: object
  main.envelope:
    properties:
      data: {}
    type: object
  main.isOwnerResponse:
    properties:
      is_owner:
        type: boolean
      venue_ids:
        items:
          type: integer
        type: array
    type: object
  main.updateVenueStatusPayload:
    properties:
      status:
        description: '"requested" or "active"'
        type: string
    type: object
  orders.Order:
    properties:
      created_at:
        type: string
      discount_cents:
        type: integer
      id:
        type: integer
      order_number:
        type: string
      paid_at:
        type: string
      payment_method:
        type: string
      payment_status:
        type: string
      shipping_cents:
        type: integer
      status:
        type: string
      subtotal_cents:
        type: integer
      tax_cents:
        type: integer
      total_cents:
        type: integer
      user_id:
        type: integer
    type: object
  orders.OrderDetail:
    properties:
      items:
        items:
          $ref: '#/definitions/orders.OrderItem'
        type: array
      order:
        $ref: '#/definitions/orders.Order'
    type: object
  orders.OrderItem:
    properties:
      id:
        type: integer
      order_id:
        type: integer
      product_id:
        type: integer
      product_name:
        type: string
      product_variant_id:
        type: integer
      quantity:
        type: integer
      total_price_cents:
        type: integer
      unit_price_cents:
        type: integer
      variant_attributes:
        additionalProperties: {}
        type: object
    type: object
  params.Pagination:
    properties:
      has_next:
        type: boolean
      has_prev:
        type: boolean
      limit:
        description: items per page
        type: integer
      offset:
        description: SQL OFFSET value
        type: integer
      page:
        description: Current Page number
        type: integer
      total:
        description: Total item in database
        type: integer
      total_pages:
        description: Total pages available
        type: integer
    type: object
  products.Category:
    properties:
      created_at:
        type: string
      id:
        type: integer
      image_urls:
        items:
          type: string
        type: array
      is_active:
        type: boolean
      name:
        type: string
      parent_id:
        type: integer
      slug:
        type: string
      updated_at:
        type: string
    type: object
  users.User:
    properties:
      created_at:
        type: string
      email:
        type: string
      first_name:
        type: string
      id:
        type: integer
      is_active:
        type: boolean
      last_name:
        type: string
      no_of_games:
        type: integer
      phone:
        type: string
      profile_picture_url:
        type: string
      skill_level:
        type: string
      updated_at:
        type: string
    type: object
  venuerequest.VenueRequest:
    properties:
      address:
        type: string
      admin_note:
        type: string
      amenities:
        items:
          type: string
        type: array
      approved_at:
        type: string
      approved_by:
        type: integer
      created_at:
        type: string
      description:
        type: string
      id:
        type: integer
      location:
        description: '[lon, lat] for inserts in your Create() style'
        items:
          type: number
        type: array
      name:
        type: string
      open_time:
        type: string
      phone_number:
        type: string
      rejected_at:
        type: string
      rejected_by:
        type: integer
      requester_ip:
        type: string
      requester_user_agent:
        type: string
      sport:
        type: string
      status:
        $ref: '#/definitions/venuerequest.VenueRequestStatus'
      updated_at:
        type: string
    type: object
  venuerequest.VenueRequestStatus:
    enum:
    - requested
    - approved
    - rejected
    type: string
    x-enum-varnames:
    - VenueRequestRequested
    - VenueRequestApproved
    - VenueRequestRejected
  venuereviews.Review:
    properties:
      avatar_url:
        type: string
      comment:
        type: string
      created_at:
        type: string
      id:
        type: integer
      rating:
        description: 1-5
        type: integer
      updated_at:
        type: string
      user_id:
        type: integer
      user_name:
        description: Joined fields
        type: string
      venue_id:
        type: integer
    type: object
  venues.Venue:
    properties:
      address:
        type: string
      amenities:
        description: Array of strings
        items:
          type: string
        type: array
      created_at:
        type: string
      description:
        type: string
      id:
        type: integer
      image_urls:
        description: Array of image URLs
        items:
          type: string
        type: array
      location:
        description: PostGIS point (longitude, latitude)
        items:
          type: number
        type: array
      name:
        type: string
      open_time:
        type: string
      owner_id:
        type: integer
      phone_number:
        type: string
      sport:
        type: string
      updated_at:
        type: string
    type: object
  venues.VenueInfo:
    properties:
      address:
        type: string
      amenities:
        description: Array of strings
        items:
          type: string
        type: array
      description:
        type: string
      id:
        type: integer
      location:
        description: PostGIS point (longitude, latitude)
        items:
          type: number
        type: array
      name:
        type: string
      open_time:
        type: string
      phone_number:
        type: string
      status:
        type: string
    type: object
  venues.VenueListing:
    properties:
      address:
        type: string
      averageRating:
        type: number
      id:
        type: integer
      imageURLs:
        items:
          type: string
        type: array
      latitude:
        type: number
      longitude:
        type: number
      name:
        type: string
      openTime:
        type: string
      phoneNumber:
        type: string
      sport:
        type: string
      totalReviews:
        type: integer
    type: object
  venues.VenueListingWithRank:
    properties:
      address:
        type: string
      averageRating:
        type: number
      id:
        type: integer
      imageURLs:
        items:
          type: string
        type: array
      latitude:
        type: number
      longitude:
        type: number
      name:
        type: string
      openTime:
        type: string
      phoneNumber:
        type: string
      rank:
        type: number
      sport:
        type: string
      totalReviews:
        type: integer
    type: object
info:
  contact:
    email: Ongchen10sherpa@gmail.com
    name: fullstacksherpa
    url: https://www.fullstacksherpa.tech/
  description: API for Khel, a complete sport application.
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  title: Khel API
paths:
  /admin/ads:
    get:
      consumes:
      - application/json
      description: Retrieves all ads with pagination for admin dashboard
      parameters:
      - description: 'Limit results (default: 10, max: 100)'
        in: query
        name: limit
        type: integer
      - description: 'Offset results (default: 0)'
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: All ads with pagination
          schema:
            additionalProperties: true
            type: object
        "400":
          description: 'Bad Request: Invalid parameters'
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Get all ads (Admin)
      tags:
      - Admin
    post:
      consumes:
      - multipart/form-data
      description: Creates a new advertisement with file upload
      parameters:
      - description: Ad title
        in: formData
        name: title
        required: true
        type: string
      - description: Ad description
        in: formData
        name: description
        type: string
      - description: Image alt text
        in: formData
        name: image_alt
        type: string
      - description: Ad link URL
        in: formData
        name: link
        type: string
      - description: Display order
        in: formData
        name: display_order
        type: integer
      - description: 'Ad image file (max size: 5MB)'
        in: formData
        name: ad_image
        required: true
        type: file
      produces:
      - application/json
      responses:
        "201":
          description: Ad created successfully
          schema:
            $ref: '#/definitions/ads.Ad'
        "400":
          description: 'Bad Request: Invalid input'
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Create a new ad (Admin)
      tags:
      - Admin
  /admin/ads/{adID}:
    delete:
      consumes:
      - application/json
      description: Deletes an advertisement
      parameters:
      - description: Ad ID
        in: path
        name: adID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Ad deleted successfully
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: 'Bad Request: Invalid ad ID'
          schema: {}
        "404":
          description: 'Not Found: Ad not found'
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Delete an ad (Admin)
      tags:
      - Admin
    get:
      consumes:
      - application/json
      description: Retrieves a single ad by its ID
      parameters:
      - description: Ad ID
        in: path
        name: adID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Ad details
          schema:
            $ref: '#/definitions/ads.Ad'
        "400":
          description: 'Bad Request: Invalid ad ID'
          schema: {}
        "404":
          description: 'Not Found: Ad not found'
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Get ad by ID (Admin)
      tags:
      - Admin
    put:
      consumes:
      - multipart/form-data
      description: Updates an existing advertisement with optional file upload
      parameters:
      - description: Ad ID
        in: path
        name: adID
        required: true
        type: integer
      - description: Ad title
        in: formData
        name: title
        type: string
      - description: Ad description
        in: formData
        name: description
        type: string
      - description: Image alt text
        in: formData
        name: image_alt
        type: string
      - description: Ad link URL
        in: formData
        name: link
        type: string
      - description: Ad active status
        in: formData
        name: active
        type: boolean
      - description: Display order
        in: formData
        name: display_order
        type: integer
      - description: 'New ad image file (max size: 5MB)'
        in: formData
        name: ad_image
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: Ad updated successfully
          schema:
            $ref: '#/definitions/ads.Ad'
        "400":
          description: 'Bad Request: Invalid input'
          schema: {}
        "404":
          description: 'Not Found: Ad not found'
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Update an ad (Admin)
      tags:
      - Admin
  /admin/ads/{adID}/toggle:
    post:
      consumes:
      - application/json
      description: Toggles the active status of an advertisement
      parameters:
      - description: Ad ID
        in: path
        name: adID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Ad status toggled successfully
          schema:
            $ref: '#/definitions/ads.Ad'
        "400":
          description: 'Bad Request: Invalid ad ID'
          schema: {}
        "404":
          description: 'Not Found: Ad not found'
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Toggle ad status (Admin)
      tags:
      - Admin
  /admin/ads/analytics:
    get:
      consumes:
      - application/json
      description: Retrieves analytics data for all advertisements
      produces:
      - application/json
      responses:
        "200":
          description: Analytics data
          schema:
            $ref: '#/definitions/ads.Analytics'
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Get ads analytics (Admin)
      tags:
      - Admin
  /admin/ads/bulk-update-order:
    post:
      consumes:
      - application/json
      description: Updates display order for multiple ads in a single transaction
      parameters:
      - description: Bulk update payload
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/main.bulkUpdateDisplayOrderPayload'
      produces:
      - application/json
      responses:
        "200":
          description: Display orders updated successfully
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: 'Bad Request: Invalid input'
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Bulk update display order (Admin)
      tags:
      - Admin
  /admin/venue-requests:
    get:
      description: Admin route. List venue requests by status with pagination.
      parameters:
      - description: requested|approved|rejected
        in: query
        name: status
        type: string
      - description: page number (default 1)
        in: query
        name: page
        type: integer
      - description: page size (default 20, max 60)
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/venuerequest.VenueRequest'
            type: array
        "401":
          description: Unauthorized
          schema: {}
        "403":
          description: Forbidden
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: List venue requests (admin)
      tags:
      - Admin Venue-Requests
  /admin/venue-requests/{id}/approve:
    post:
      consumes:
      - application/json
      description: Approves venue request and creates real venues row with owner_id.
      parameters:
      - description: Venue request ID
        in: path
        name: id
        required: true
        type: integer
      - description: Owner assignment + optional admin note
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/main.adminApproveVenueReqPayload'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/venues.Venue'
        "400":
          description: Bad Request
          schema: {}
        "401":
          description: Unauthorized
          schema: {}
        "403":
          description: Forbidden
          schema: {}
        "404":
          description: Not Found
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Approve a venue request (admin)
      tags:
      - Admin Venue-Requests
  /admin/venue-requests/{id}/reject:
    post:
      consumes:
      - application/json
      description: Rejects venue request with optional admin note.
      parameters:
      - description: Venue request ID
        in: path
        name: id
        required: true
        type: integer
      - description: Optional admin note
        in: body
        name: payload
        schema:
          $ref: '#/definitions/main.adminRejectVenueReqPayload'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema: {}
        "401":
          description: Unauthorized
          schema: {}
        "403":
          description: Forbidden
          schema: {}
        "404":
          description: Not Found
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Reject a venue request (admin)
      tags:
      - Admin Venue-Requests
  /ads/{adID}/click:
    post:
      consumes:
      - application/json
      description: Increments the click count for an advertisement
      parameters:
      - description: Ad ID
        in: path
        name: adID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Click tracked successfully
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: 'Bad Request: Invalid ad ID'
          schema: {}
        "404":
          description: 'Not Found: Ad not found'
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      summary: Track ad click
      tags:
      - Ads
  /ads/{adID}/impression:
    post:
      consumes:
      - application/json
      description: Increments the impression count for an advertisement
      parameters:
      - description: Ad ID
        in: path
        name: adID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Impression tracked successfully
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: 'Bad Request: Invalid ad ID'
          schema: {}
        "404":
          description: 'Not Found: Ad not found'
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      summary: Track ad impression
      tags:
      - Ads
  /ads/active:
    get:
      consumes:
      - application/json
      description: Retrieves all active ads for the mobile app carousel
      produces:
      - application/json
      responses:
        "200":
          description: Active ads
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema: {}
      summary: Get active ads
      tags:
      - Ads
  /app-reviews:
    post:
      consumes:
      - application/json
      description: Allows authenticated users to submit a rating and feedback for
        the app.
      parameters:
      - description: Review payload
        in: body
        name: review
        required: true
        schema:
          $ref: '#/definitions/main.AppReviewPayload'
      produces:
      - application/json
      responses:
        "201":
          description: Review submitted
          schema:
            type: string
        "400":
          description: Bad Request
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Submit App Review
      tags:
      - App_Reviews
  /authentication/refresh:
    post:
      consumes:
      - application/json
      description: Validates the provided refresh token and issues new access and
        refresh tokens.
      parameters:
      - description: Refresh token payload
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/main.RefreshPayload'
      produces:
      - application/json
      responses:
        "200":
          description: New access and refresh tokens
          schema:
            $ref: '#/definitions/main.Envelope'
        "400":
          description: Bad request
          schema: {}
        "401":
          description: Unauthorized
          schema: {}
        "500":
          description: Internal server error
          schema: {}
      summary: Refresh authentication tokens
      tags:
      - authentication
  /authentication/reset-password:
    patch:
      consumes:
      - application/json
      description: Reset password
      parameters:
      - description: Reset password details
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/main.ResetPasswordPayload'
      produces:
      - application/json
      responses:
        "200":
          description: Password reset successful
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      summary: Reset password
      tags:
      - authentication
    post:
      consumes:
      - application/json
      description: Request password reset
      parameters:
      - description: User email
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/main.RequestResetPasswordPayload'
      produces:
      - application/json
      responses:
        "200":
          description: Reset token sent
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      summary: Request password reset
      tags:
      - authentication
  /authentication/session:
    get:
      description: Reads access_token cookie, validates it, returns session info.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              $ref: '#/definitions/main.SessionResponse'
            type: object
        "401":
          description: Unauthorized
          schema: {}
      summary: Get current web session (cookie)
      tags:
      - authentication
  /authentication/token:
    post:
      consumes:
      - application/json
      description: Creates a token for a user after signin or login.
      parameters:
      - description: User credentials
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/main.CreateUserTokenPayload'
      produces:
      - application/json
      responses:
        "200":
          description: Token to save at MMKV
          schema:
            $ref: '#/definitions/main.Envelope'
        "400":
          description: Bad Request
          schema: {}
        "401":
          description: Unauthorized
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      summary: Login to get Token
      tags:
      - authentication
  /authentication/user:
    post:
      consumes:
      - application/json
      description: Registers a user via Mobile App, Server will send activation url
        on email and need to click there to verify its your email
      parameters:
      - description: User credentials
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/main.RegisterUserPayload'
      produces:
      - application/json
      responses:
        "201":
          description: User registered
          schema:
            $ref: '#/definitions/main.UserWithToken'
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/main.ErrorBadRequestResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/main.ErrorInternalServerResponse'
      summary: Registers a user
      tags:
      - authentication
  /games/{gameID}:
    get:
      consumes:
      - application/json
      description: Returns detailed information for a specific game including venue
        details and player images
      parameters:
      - description: Game ID
        in: path
        name: gameID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/games.GameDetails'
        "400":
          description: Invalid game ID
          schema: {}
        "404":
          description: Game not found
          schema: {}
        "500":
          description: Internal server error
          schema: {}
      summary: Get detailed game information
      tags:
      - Games
  /games/{gameID}/accept:
    post:
      consumes:
      - application/json
      description: Accepts a pending join request for a game by updating the request
        status to accepted and inserting the player into the game. The game ID is
        provided in the URL path and the user ID is provided in the request body.
      parameters:
      - description: Game ID
        in: path
        name: gameID
        required: true
        type: integer
      - description: Payload containing the user ID to accept
        in: body
        name: payload
        required: true
        schema:
          properties:
            user_id:
              type: integer
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Message confirming the join request acceptance and player addition
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid game ID, payload error, or request is not in pending
            state
          schema: {}
        "404":
          description: Join request not found
          schema: {}
        "500":
          description: Internal server error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Accept a join request for a game
      tags:
      - Games
  /games/{gameID}/assign-assistant/{playerID}:
    post:
      consumes:
      - application/json
      description: Allows a game admin to assign the assistant role to a player for
        a specified game.
      parameters:
      - description: Game ID
        in: path
        name: gameID
        required: true
        type: integer
      - description: Player ID to be assigned as assistant
        in: path
        name: playerID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Assistant role assigned successfully
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid game ID, invalid player ID, or player not found/already
            an assistant
          schema: {}
        "403":
          description: Only game admins can assign assistants
          schema: {}
        "500":
          description: Database error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Assign an assistant role to a player
      tags:
      - Games
  /games/{gameID}/cancel-game:
    patch:
      consumes:
      - application/json
      description: Allows an admin to cancel a game
      parameters:
      - description: Game ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Game cancelled successfully
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid request payload
          schema: {}
        "401":
          description: Unauthorized
          schema: {}
        "404":
          description: Game not found
          schema: {}
        "500":
          description: Internal server error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Cancel a game
      tags:
      - Games
  /games/{gameID}/players:
    get:
      consumes:
      - application/json
      description: Fetches the list of players participating in a specific game. The
        game ID is provided in the URL path.
      parameters:
      - description: Game ID
        in: path
        name: gameID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of game players
          schema:
            items:
              $ref: '#/definitions/main.PlayerResponse'
            type: array
        "400":
          description: Invalid game ID
          schema: {}
        "404":
          description: Game players not found
          schema: {}
        "500":
          description: Internal server error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Retrieve players for a game
      tags:
      - Games
  /games/{gameID}/qa:
    get:
      consumes:
      - application/json
      description: Get all questions with replies for a game
      parameters:
      - description: Game ID
        in: path
        name: gameID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/gameqa.QuestionWithReplies'
            type: array
        "400":
          description: Bad Request
          schema: {}
      summary: Get all Q&A for a game
      tags:
      - Questions
  /games/{gameID}/questions:
    get:
      consumes:
      - application/json
      description: Get all questions for a game
      parameters:
      - description: Game ID
        in: path
        name: gameID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/gameqa.Question'
            type: array
        "400":
          description: Bad Request
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Get game questions
      tags:
      - Questions
    post:
      consumes:
      - application/json
      description: Create a new question for a game
      parameters:
      - description: Game ID
        in: path
        name: gameID
        required: true
        type: integer
      - description: Question payload
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/main.QuestionPayload'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/gameqa.Question'
        "400":
          description: Bad Request
          schema: {}
        "401":
          description: Unauthorized
          schema: {}
        "404":
          description: Not Found
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Create a game question
      tags:
      - Questions
  /games/{gameID}/questions/{questionID}:
    delete:
      consumes:
      - application/json
      description: Delete a question (only by author)
      parameters:
      - description: Game ID
        in: path
        name: gameID
        required: true
        type: integer
      - description: Question ID
        in: path
        name: questionID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema: {}
        "401":
          description: Unauthorized
          schema: {}
        "404":
          description: Not Found
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Delete a question
      tags:
      - Questions
  /games/{gameID}/questions/{questionID}/replies:
    post:
      consumes:
      - application/json
      description: Create a reply to a question (admin only)
      parameters:
      - description: Game ID
        in: path
        name: gameID
        required: true
        type: integer
      - description: Question ID
        in: path
        name: questionID
        required: true
        type: integer
      - description: Reply payload
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/main.ReplyPayload'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/gameqa.Reply'
        "400":
          description: Bad Request
          schema: {}
        "401":
          description: Unauthorized
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Create a reply
      tags:
      - Questions
  /games/{gameID}/reject:
    post:
      consumes:
      - application/json
      description: Rejects a pending join request for a game. The game ID is specified
        in the URL path and the user ID is provided in the request body.
      parameters:
      - description: Game ID
        in: path
        name: gameID
        required: true
        type: integer
      - description: Payload containing the user ID of the join request to reject
        in: body
        name: payload
        required: true
        schema:
          properties:
            user_id:
              type: integer
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Message confirming the join request was rejected
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid game ID, payload error, or request is not pending
          schema: {}
        "404":
          description: Join request not found
          schema: {}
        "500":
          description: Internal server error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Reject a join request for a game
      tags:
      - Games
  /games/{gameID}/request:
    delete:
      description: Allows a user to delete their previously sent join request for
        a specific game.
      parameters:
      - description: Game ID
        in: path
        name: gameID
        required: true
        type: integer
      responses:
        "200":
          description: Join request deleted
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid game ID
          schema: {}
        "404":
          description: Join request not found
          schema: {}
        "500":
          description: Internal server error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Delete a join request for a game
      tags:
      - Games
    post:
      consumes:
      - application/json
      description: Allows a user to send a request to join a specific game. The game
        ID is provided in the URL path.
      parameters:
      - description: Game ID
        in: path
        name: gameID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "201":
          description: Join request submitted for approval
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid game ID
          schema: {}
        "404":
          description: Game not found or inactive
          schema: {}
        "409":
          description: Join request already sent
          schema: {}
        "500":
          description: Internal server error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Send a request to join a game
      tags:
      - Games
  /games/{gameID}/requests:
    get:
      consumes:
      - application/json
      description: Retrieve all join requests for a specific game by game ID, including
        user details.
      parameters:
      - description: Game ID
        in: path
        name: gameID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of join requests with user details
          schema:
            items:
              $ref: '#/definitions/games.GameRequestWithUser'
            type: array
        "400":
          description: Invalid game ID
          schema: {}
        "500":
          description: Internal server error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Get all join requests for a game
      tags:
      - Games
  /games/{gameID}/shortlist:
    delete:
      consumes:
      - application/json
      description: Allows authenticated users to remove a game from their shortlist.
      parameters:
      - description: Game ID
        in: path
        name: gameID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Game removed from shortlist
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: 'Bad Request: Invalid game ID or unauthenticated request'
          schema: {}
        "500":
          description: 'Internal Server Error: Could not remove shortlist'
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Remove a game from shortlist
      tags:
      - Shortlist_Games
    post:
      consumes:
      - application/json
      description: Allows authenticated users to add a game to their shortlist.
      parameters:
      - description: Game ID
        in: path
        name: gameID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "201":
          description: Game added to shortlist
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: 'Bad Request: Invalid game ID or unauthenticated request'
          schema: {}
        "500":
          description: 'Internal Server Error: Could not add shortlist'
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Add a game to shortlist
      tags:
      - Shortlist_Games
  /games/{id}/toggle-match-full:
    patch:
      consumes:
      - application/json
      description: Allows an admin to toggle match full status
      parameters:
      - description: Game ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Match full status updated
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid request payload
          schema: {}
        "401":
          description: Unauthorized
          schema: {}
        "404":
          description: Game not found
          schema: {}
        "500":
          description: Internal server error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Toggle match full status
      tags:
      - Games
  /games/{venueID}/upcoming:
    get:
      consumes:
      - application/json
      description: Returns a list of upcoming active games for the specified venue.
      parameters:
      - description: Venue ID
        in: path
        name: venueID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of upcoming active games
          schema:
            items:
              $ref: '#/definitions/games.GameSummary'
            type: array
        "400":
          description: 'Bad Request: Missing or invalid venueID'
          schema: {}
        "500":
          description: 'Internal Server Error: Could not retrieve upcoming games'
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Retrieve upcoming active games at a venue
      tags:
      - Games
  /games/create:
    post:
      consumes:
      - application/json
      description: Create a new game with details such as sport type, venue, start
        time, and end time.
      parameters:
      - description: Game details payload
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/main.CreateGamePayload'
      produces:
      - application/json
      responses:
        "201":
          description: Game created successfully
          schema:
            $ref: '#/definitions/games.Game'
        "400":
          description: Invalid request payload
          schema: {}
        "401":
          description: Unauthorized
          schema: {}
        "409":
          description: Game overlaps with existing game
          schema: {}
        "500":
          description: Internal server error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Create a new game
      tags:
      - Games
  /games/get-games:
    get:
      consumes:
      - application/json
      description: Returns a list of games. Authentication is optional; if an API
        key is provided, user's shortlisted games will be included.
      parameters:
      - description: Sport type to filter games (e.g., basketball)
        in: query
        name: sport_type
        type: string
      - description: Game level (e.g., intermediate)
        in: query
        name: game_level
        type: string
      - description: Venue ID to filter games
        in: query
        name: venue_id
        type: integer
      - description: Filter games based on booking status (e.g., available, booked,
          pending)
        in: query
        name: booking_status
        type: string
      - description: 'Game status: active, cancelled, completed'
        in: query
        name: status
        type: string
      - description: User latitude for location filtering
        in: query
        name: lat
        type: number
      - description: User longitude for location filtering
        in: query
        name: lon
        type: number
      - description: Radius in kilometers for location-based filtering (0 for no filter)
        in: query
        name: radius
        type: integer
      - description: Filter games starting after this time (RFC3339 format)
        in: query
        name: start_after
        type: string
      - description: Filter games ending before this time (RFC3339 format)
        in: query
        name: end_before
        type: string
      - description: Minimum price
        in: query
        name: min_price
        type: integer
      - description: Maximum price
        in: query
        name: max_price
        type: integer
      - description: Maximum number of results to return
        in: query
        name: limit
        type: integer
      - description: Pagination offset
        in: query
        name: offset
        type: integer
      - description: Sort order, either 'asc' or 'desc'
        in: query
        name: sort
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: List of games and GeoJSON features
          schema:
            items:
              $ref: '#/definitions/games.GameSummary'
            type: array
        "400":
          description: Invalid request parameters
          schema: {}
        "500":
          description: Internal server error
          schema: {}
      summary: Retrieve a list of games
      tags:
      - Games
  /games/get-upcoming:
    get:
      consumes:
      - application/json
      description: Returns a list of upcoming active games that the authenticated
        user has joined.
      produces:
      - application/json
      responses:
        "200":
          description: List of upcoming active games for user
          schema:
            items:
              $ref: '#/definitions/games.GameSummary'
            type: array
        "401":
          description: 'Unauthorized: missing or invalid API key'
          schema: {}
        "500":
          description: 'Internal Server Error: could not retrieve upcoming games'
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: List upcoming active games for the current user
      tags:
      - Games
  /games/shortlist:
    get:
      consumes:
      - application/json
      description: Returns a list of games that the authenticated user has shortlisted.
      produces:
      - application/json
      responses:
        "200":
          description: List of shortlisted games
          schema:
            items:
              items:
                $ref: '#/definitions/games.ShortlistedGameDetail'
              type: array
            type: array
        "400":
          description: 'Bad Request: Unauthenticated request'
          schema: {}
        "500":
          description: 'Internal Server Error: Could not retrieve shortlist'
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Retrieve shortlisted games for the authenticated user
      tags:
      - Shortlist_Games
  /health:
    get:
      description: Healthcheck endpoint
      produces:
      - application/json
      responses:
        "200":
          description: ok
          schema:
            type: string
      summary: Healthcheckk
      tags:
      - ops
  /push-tokens:
    delete:
      consumes:
      - application/json
      description: Deletes a specific push token for the current user
      parameters:
      - description: Token to remove
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/main.RemovePushTokenRequest'
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema: {}
        "401":
          description: Unauthorized
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Remove a push notification token
      tags:
      - Notifications
  /store/admin/brands:
    post:
      consumes:
      - multipart/form-data
      description: Creates a new brand with optional logo upload to Cloudinary. Name
        is required; slug is optional (auto-generated from name if empty).
      parameters:
      - description: Brand name
        in: formData
        name: name
        required: true
        type: string
      - description: Brand slug (optional, auto-generated from name if empty)
        in: formData
        name: slug
        type: string
      - description: Brand description
        in: formData
        name: description
        type: string
      - description: Brand logo image (JPEG, PNG, WEBP; max 3MB)
        in: formData
        name: logo
        type: file
      produces:
      - application/json
      responses:
        "201":
          description: Brand created successfully
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: 'Bad Request: invalid form data, missing name, or invalid slug/image
            type'
          schema: {}
        "409":
          description: 'Conflict: brand with the same name or slug already exists'
          schema: {}
        "500":
          description: 'Internal Server Error: failed to upload logo or create brand'
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Create a new brand
      tags:
      - Store-Admin
  /store/admin/brands/{brandID}:
    delete:
      description: Deletes a brand by ID. Fails if the brand is referenced by any
        products.
      parameters:
      - description: Brand ID
        in: path
        name: brandID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "204":
          description: No Content
          schema:
            type: string
        "400":
          description: 'Bad Request: invalid brand ID'
          schema: {}
        "404":
          description: 'Not Found: brand not found'
          schema: {}
        "409":
          description: 'Conflict: brand has dependent products or records'
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Delete a brand
      tags:
      - Store-Admin
    patch:
      consumes:
      - multipart/form-data
      description: 'Updates brand fields (name, slug, description) and optionally
        replaces the logo image. Partial updates are supported: only provided fields
        are changed.'
      parameters:
      - description: Brand ID
        in: path
        name: brandID
        required: true
        type: integer
      - description: Brand name
        in: formData
        name: name
        type: string
      - description: Brand slug (must be URL-safe)
        in: formData
        name: slug
        type: string
      - description: Brand description
        in: formData
        name: description
        type: string
      - description: Optional brand logo image (jpeg, png, webp)
        in: formData
        name: logo
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: Returns message and updated brand
          schema:
            additionalProperties: true
            type: object
        "400":
          description: 'Bad Request: invalid input'
          schema: {}
        "404":
          description: Brand not found
          schema: {}
        "409":
          description: 'Conflict: brand name or slug already exists'
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Update an existing brand
      tags:
      - Store-Admin
  /store/admin/categories:
    post:
      consumes:
      - multipart/form-data
      description: Creates a new product category with optional parent and logo image.
      parameters:
      - description: Category name
        in: formData
        name: name
        required: true
        type: string
      - description: URL-friendly slug (auto-generated from name if omitted)
        in: formData
        name: slug
        type: string
      - description: Optional parent category ID
        in: formData
        name: parent_id
        type: integer
      - description: 'Whether the category is active (default: true)'
        in: formData
        name: is_active
        type: boolean
      - description: Category logo image (jpeg/png/webp, max 3MB)
        in: formData
        name: logo
        type: file
      produces:
      - application/json
      responses:
        "201":
          description: Category created successfully
          schema:
            $ref: '#/definitions/products.Category'
        "400":
          description: 'Bad Request: invalid input or file'
          schema: {}
        "409":
          description: 'Conflict: category with same name or slug already exists'
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Create a new category
      tags:
      - Store-Admin
  /store/admin/categories/{categoryID}:
    delete:
      description: Deletes a category and asynchronously removes its images from Cloudinary.
        Fails if category has children or dependent records.
      parameters:
      - description: Category ID
        in: path
        name: categoryID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: message + deleted_category info
          schema:
            additionalProperties: true
            type: object
        "400":
          description: 'Bad Request: invalid category ID or category has children'
          schema: {}
        "404":
          description: Category not found
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Delete a category
      tags:
      - Store-Admin
    patch:
      consumes:
      - multipart/form-data
      description: Partially updates a category's fields and optionally uploads/replaces
        a logo image.
      parameters:
      - description: Category ID
        in: path
        name: categoryID
        required: true
        type: integer
      - description: New category name
        in: formData
        name: name
        type: string
      - description: New slug (must be URL-friendly)
        in: formData
        name: slug
        type: string
      - description: New parent category ID
        in: formData
        name: parent_id
        type: integer
      - description: Whether the category is active
        in: formData
        name: is_active
        type: boolean
      - description: New logo image (jpeg/png/webp, max 3MB)
        in: formData
        name: logo
        type: file
      - description: If true, replaces existing logos instead of appending
        in: query
        name: replace_logo
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: message + updated category
          schema:
            additionalProperties: true
            type: object
        "400":
          description: 'Bad Request: invalid input'
          schema: {}
        "404":
          description: Category not found
          schema: {}
        "409":
          description: 'Conflict: slug already exists'
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Update a category
      tags:
      - Store-Admin
  /store/admin/category/products:
    get:
      description: Returns a paginated list of product cards for the admin panel.
        Supports optional filtering by category slug.
      parameters:
      - description: Filter products by category slug
        in: query
        name: category_slug
        type: string
      - description: 'Page number (default: 1)'
        in: query
        name: page
        type: integer
      - description: 'Items per page (default: 15)'
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: products list with pagination and applied filters
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: List products (admin)
      tags:
      - Store-Admin-Products
  /store/admin/orders:
    get:
      description: List all orders for the admin dashboard. Supports optional status
        filter and pagination.
      parameters:
      - description: Filter by status
        enum:
        - pending
        - processing
        - shipped
        - delivered
        - cancelled
        - refunded
        in: query
        name: status
        type: string
      - description: 'Page number (default: 1)'
        in: query
        name: page
        type: integer
      - description: 'Items per page (default: 15, max: 30)'
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/main.envelope'
            - properties:
                data:
                  $ref: '#/definitions/main.AdminOrderListResponse'
              type: object
        "400":
          description: Bad Request
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: List orders (admin)
      tags:
      - Store-Admin-Orders
  /store/admin/orders/{orderID}:
    get:
      description: Get a single order with its line items for the admin dashboard.
      parameters:
      - description: Order ID
        in: path
        name: orderID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/main.envelope'
            - properties:
                data:
                  $ref: '#/definitions/main.AdminOrderDetailResponse'
              type: object
        "400":
          description: 'Bad Request: invalid orderID'
          schema: {}
        "404":
          description: 'Not Found: order not found'
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Get order detail (admin)
      tags:
      - Store-Admin-Orders
  /store/admin/orders/{orderID}/status:
    patch:
      consumes:
      - application/json
      description: Update an order's status. If status is cancelled, cancelled_reason
        may be provided and cancelled_at is set.
      parameters:
      - description: Order ID
        in: path
        name: orderID
        required: true
        type: integer
      - description: Status update payload
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/main.AdminUpdateOrderStatusRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/main.envelope'
            - properties:
                data:
                  $ref: '#/definitions/main.AdminUpdateOrderStatusResponse'
              type: object
        "400":
          description: 'Bad Request: invalid payload/status'
          schema: {}
        "404":
          description: 'Not Found: order not found'
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Update order status (admin)
      tags:
      - Store-Admin-Orders
  /store/admin/payments:
    get:
      description: 'Returns a paginated list of payments. Optional filters: status,
        since.'
      parameters:
      - description: 'payment_status filter: pending|paid|failed|refunded|partially_refunded'
        in: query
        name: status
        type: string
      - description: RFC3339 timestamp; returns payments created_at >= since
        in: query
        name: since
        type: string
      - description: 'Page number (default: 1)'
        in: query
        name: page
        type: integer
      - description: Items per page (default from server, max usually 100)
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 'Envelope: { data: { payments, pagination, status, since }
            }'
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema: {}
        "401":
          description: Unauthorized
          schema: {}
        "403":
          description: Forbidden
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: List payments (admin)
      tags:
      - Store-Admin-Payments
  /store/admin/users:
    get:
      description: Returns paginated users. Optional role filter (?role=admin|owner|customer|merchant).
        Includes each user's roles.
      parameters:
      - description: Filter by role
        enum:
        - admin
        - owner
        - customer
        - merchant
        in: query
        name: role
        type: string
      - description: 'Page number (default: 1)'
        in: query
        name: page
        type: integer
      - description: 'Items per page (default: 15)'
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: users list with pagination and filters
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema: {}
        "403":
          description: Forbidden
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: List users (admin)
      tags:
      - Store-Admin-Users
  /store/admin/users/{userID}:
    get:
      description: Returns a user profile + aggregated stats + up to 5 recent items
        per section (orders, bookings, upcoming games).
      parameters:
      - description: User ID
        in: path
        name: userID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 'Envelope: { data: { user, stats, recent } }'
          schema:
            additionalProperties: true
            type: object
        "400":
          description: 'Bad Request: invalid userID'
          schema: {}
        "401":
          description: Unauthorized
          schema: {}
        "403":
          description: Forbidden
          schema: {}
        "404":
          description: 'Not Found: user not found'
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Get user overview (admin)
      tags:
      - Store-Admin-Users
  /store/brands:
    get:
      description: Returns a paginated list of brands.
      parameters:
      - description: Page number (starting from 1)
        in: query
        name: page
        type: integer
      - description: Items per page (default from server, max usually 100)
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: brands list with pagination metadata
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema: {}
      summary: List all brands
      tags:
      - Store
  /store/categories:
    get:
      description: Returns a paginated list of categories.
      parameters:
      - description: 'Page number (default: 1)'
        in: query
        name: page
        type: integer
      - description: 'Items per page (default: 20, max: 100)'
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: categories + pagination metadata
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema: {}
      summary: List categories
      tags:
      - Store-Categories
  /store/categories/{categoryID}:
    get:
      description: Returns a single category by its ID, with some basic stats (e.g.
        product count, children count).
      parameters:
      - description: Category ID
        in: path
        name: categoryID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: category + stats
          schema:
            additionalProperties: true
            type: object
        "400":
          description: 'Bad Request: invalid category ID'
          schema: {}
        "404":
          description: Category not found
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      summary: Get category by ID
      tags:
      - Store-Categories
  /store/categories/search:
    get:
      description: Performs a simple search on categories by name/slug using ILIKE
        or trigram search.
      parameters:
      - description: Search query string
        in: query
        name: q
        required: true
        type: string
      - description: 'Page number (default: 1)'
        in: query
        name: page
        type: integer
      - description: 'Items per page (default: 20, max: 100)'
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: categories + pagination + search_type=basic
          schema:
            additionalProperties: true
            type: object
        "400":
          description: 'Bad Request: missing query'
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      summary: Search categories (basic)
      tags:
      - Store-Categories
  /store/categories/search/fts:
    get:
      description: Performs full-text search on categories using the FTS index.
      parameters:
      - description: Search query string
        in: query
        name: q
        required: true
        type: string
      - description: 'Page number (default: 1)'
        in: query
        name: page
        type: integer
      - description: 'Items per page (default: 20, max: 100)'
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: categories + pagination + search_type=full_text
          schema:
            additionalProperties: true
            type: object
        "400":
          description: 'Bad Request: missing query'
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      summary: Search categories (full-text)
      tags:
      - Store-Categories
  /store/categories/tree:
    get:
      description: Returns the full category tree (parent/children hierarchy). Optionally
        includes inactive categories.
      parameters:
      - description: 'Include inactive categories (default: false)'
        in: query
        name: include_inactive
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: 'tree: array of nested categories'
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema: {}
      summary: Get category tree
      tags:
      - Store-Categories
  /store/orders:
    get:
      description: Returns a paginated list of orders for the authenticated user.
      parameters:
      - description: 'Page number (default: 1)'
        in: query
        minimum: 1
        name: page
        type: integer
      - description: 'Items per page (default: 15, max: 30)'
        in: query
        maximum: 30
        minimum: 1
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: orders list + pagination
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: List my orders
      tags:
      - Orders
  /store/orders/{orderID}:
    get:
      description: Returns order detail (order + items) for the authenticated user.
        Only returns the order if it belongs to the user.
      parameters:
      - description: Order ID
        in: path
        minimum: 1
        name: orderID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: order detail
          schema:
            $ref: '#/definitions/orders.OrderDetail'
        "400":
          description: 'Bad Request: invalid orderID'
          schema: {}
        "401":
          description: Unauthorized
          schema: {}
        "404":
          description: Order not found
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Get my order detail
      tags:
      - Orders
  /store/products/{productID}:
    get:
      description: Returns a single product by its ID.
      parameters:
      - description: Product ID
        in: path
        name: productID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: product
          schema:
            additionalProperties: true
            type: object
        "400":
          description: 'Bad Request: invalid product ID'
          schema: {}
        "404":
          description: Product not found
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      summary: Get product by ID
      tags:
      - Store-Products
  /store/products/slug/{slug}:
    get:
      description: Returns product detail (product + related entities) by slug. Only
        active products are returned.
      parameters:
      - description: Product slug
        in: path
        name: slug
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: product detail
          schema:
            additionalProperties: true
            type: object
        "400":
          description: 'Bad Request: slug is required'
          schema: {}
        "404":
          description: Product not found (missing or inactive)
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      summary: Get product detail by slug
      tags:
      - Store-Products
  /superadmin/{userID}/roles:
    get:
      description: Returns all roles assigned to the given user.
      parameters:
      - description: User ID
        in: path
        name: userID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/accesscontrol.Role'
            type: array
        "400":
          description: Bad Request
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: List roles for a user
      tags:
      - superadmin-role
    post:
      consumes:
      - application/json
      description: Assigns a role (by role_id) to the specified user.
      parameters:
      - description: User ID
        in: path
        name: userID
        required: true
        type: integer
      - description: Role assignment payload
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/main.assignRoleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Role assigned successfully
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Assign a role to a user
      tags:
      - superadmin-role
  /superadmin/{userID}/roles/{roleID}:
    delete:
      description: Removes a specific role from a user by role_id.
      parameters:
      - description: User ID
        in: path
        name: userID
        required: true
        type: integer
      - description: Role ID
        in: path
        name: roleID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Role removed successfully
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema: {}
        "404":
          description: Role not found for user
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Remove a role from a user
      tags:
      - superadmin-role
  /superadmin/app-reviews:
    get:
      consumes:
      - application/json
      description: Returns all app reviews from all users.
      produces:
      - application/json
      responses:
        "200":
          description: List of all reviews
          schema:
            items:
              $ref: '#/definitions/appreviews.AppReview'
            type: array
        "401":
          description: unauthorized route
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: List All App Reviews
      tags:
      - App_Reviews
  /superadmin/overview:
    get:
      description: 'Returns totals for admin dashboard: users, games, venue requests,
        venues.'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/admindashboard.Overview'
        "401":
          description: Unauthorized
          schema: {}
        "403":
          description: Forbidden
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Admin overview totals
      tags:
      - superadmin-overview
  /superadmin/users:
    post:
      consumes:
      - application/json
      description: Creates a user directly from Admin Panel (no invitation/activation
        email). User is active by default.
      parameters:
      - description: User details
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/main.AdminCreateUserPayload'
      produces:
      - application/json
      responses:
        "201":
          description: User created
          schema:
            $ref: '#/definitions/users.User'
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/main.ErrorBadRequestResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/main.ErrorInternalServerResponse'
      security:
      - ApiKeyAuth: []
      summary: Admin creates a user
      tags:
      - superadmin-role
  /superadmin/venues/:
    get:
      description: Paginated list of venues with optional filters (sport, status).
      parameters:
      - description: Filter by sport type
        in: query
        name: sport
        type: string
      - description: Filter by venue status (active|requested|inactive)
        in: query
        name: status
        type: string
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 15
        description: Items per page
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/main.VenueListWithMetaResponse'
      security:
      - ApiKeyAuth: []
      summary: List venues (admin)
      tags:
      - superadmin-venue
  /users:
    put:
      consumes:
      - application/json
      description: Update user information such as first name, last name, skill level,
        and phone number
      parameters:
      - description: 'Request body containing fields to update: first_name, last_name,
          skill_level, phone'
        in: body
        name: body
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "204":
          description: User info updated successfully
          schema:
            type: string
        "400":
          description: Bad request, update values can't be nil
          schema: {}
        "404":
          description: User not found
          schema: {}
        "500":
          description: Internal server error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Update user information
      tags:
      - users
  /users/{userID}/follow:
    put:
      consumes:
      - application/json
      description: Follows a user by ID
      parameters:
      - description: User ID
        in: path
        name: userID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "204":
          description: User followed
          schema:
            type: string
        "400":
          description: User payload missing
          schema: {}
        "404":
          description: User not found
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Follows a user
      tags:
      - users
  /users/{userID}/unfollow:
    put:
      consumes:
      - application/json
      description: Unfollow a user by ID
      parameters:
      - description: User ID
        in: path
        name: userID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "204":
          description: User unfollowed
          schema:
            type: string
        "400":
          description: User payload missing
          schema: {}
        "404":
          description: User not found
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Unfollow a user
      tags:
      - users
  /users/activate/{token}:
    put:
      consumes:
      - application/json
      description: Activate a user account using an activation token provided in the
        URL
      parameters:
      - description: Activation token
        in: path
        name: token
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: User activated
          schema:
            type: string
        "404":
          description: User not found
          schema: {}
        "500":
          description: Internal server error
          schema: {}
      summary: Activate user account
      tags:
      - authentication
  /users/bookings:
    get:
      consumes:
      - application/json
      description: Returns every booking made by the specified user, including venue
        details.
      parameters:
      - default: 1
        description: Page number (1-based)
        in: query
        minimum: 1
        name: page
        type: integer
      - default: 7
        description: Items per page (max 50)
        in: query
        maximum: 50
        minimum: 1
        name: limit
        type: integer
      - description: Filter by booking status
        enum:
        - confirmed
        - pending
        - rejected
        - done
        in: query
        name: status
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              items:
                $ref: '#/definitions/main.UserBookingResponse'
              type: array
            type: array
        "400":
          description: Bad Request
          schema: {}
        "401":
          description: Unauthorized
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: List all bookings for a user
      tags:
      - users
  /users/logout:
    post:
      consumes:
      - application/json
      description: logout user which will nullify refresh token
      produces:
      - application/json
      responses:
        "204":
          description: No Content
          schema:
            type: string
        "500":
          description: Internal server error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: logout user
      tags:
      - authentication
  /users/me:
    delete:
      description: Deletes the logged-in user's account and Cloudinary profile photo
      produces:
      - application/json
      responses:
        "204":
          description: User deleted
          schema:
            type: string
        "401":
          description: Unauthorized
          schema: {}
        "500":
          description: Internal server error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Delete current user account
      tags:
      - users
    get:
      consumes:
      - application/json
      description: Retrieve the authenticated users profile information
      produces:
      - application/json
      responses:
        "200":
          description: Current user data
          schema:
            $ref: '#/definitions/users.User'
        "401":
          description: Unauthorized
          schema: {}
        "500":
          description: Internal server error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Get current user profile
      tags:
      - users
  /users/profile-picture:
    post:
      consumes:
      - multipart/form-data
      description: Uploads a user's profile picture and saves the URL in the database
      parameters:
      - description: Profile picture file size limit is 2MB
        in: formData
        name: profile_picture
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: 'Profile picture uploaded successfully: <URL>'
          schema:
            type: string
        "400":
          description: Unable to parse form or retrieve file
          schema: {}
        "500":
          description: Failed to upload image to Cloudinary or save URL in database
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Upload profile picture
      tags:
      - users
    put:
      consumes:
      - multipart/form-data
      description: Updates a user's profile picture, saves the new URL in the database,
        and deletes the old one from Cloudinary
      parameters:
      - description: 'Profile picture file (max size: 2MB)'
        in: formData
        name: profile_picture
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: 'Profile picture updated successfully: <URL>'
          schema:
            type: string
        "400":
          description: Unable to parse form or retrieve file
          schema: {}
        "500":
          description: Failed to upload image to Cloudinary, update database, or delete
            old image
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Update profile picture
      tags:
      - users
  /users/push-tokens:
    post:
      consumes:
      - application/json
      description: Stores or updates a user's Expo push token along with optional
        device info
      parameters:
      - description: Push token data
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/main.SavePushTokenRequest'
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema: {}
        "401":
          description: Unauthorized
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Save or update a push notification token
      tags:
      - Notifications
  /users/push-tokens/bulk-remove:
    post:
      consumes:
      - application/json
      description: Deletes multiple push tokens (admin-only)
      parameters:
      - description: Tokens to remove
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/main.BulkRemoveTokensRequest'
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema: {}
        "401":
          description: Unauthorized
          schema: {}
        "403":
          description: Forbidden
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Bulk remove push notification tokens
      tags:
      - Notifications
  /users/push-tokens/prune:
    post:
      consumes:
      - application/json
      description: Removes push tokens not updated within the specified duration (admin-only)
      parameters:
      - description: Duration criteria
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/main.PruneStaleTokensRequest'
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema: {}
        "401":
          description: Unauthorized
          schema: {}
        "403":
          description: Forbidden
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Prune stale push tokens
      tags:
      - Notifications
  /users/update-profile:
    patch:
      consumes:
      - multipart/form-data
      description: Update any combination of first name, last name, phone, skill level,
        and/or profile picture in one call.
      parameters:
      - description: First name
        in: formData
        name: first_name
        type: string
      - description: Last name
        in: formData
        name: last_name
        type: string
      - description: Phone number (10 digits)
        in: formData
        name: phone
        type: string
      - description: Skill level
        enum:
        - beginner
        - intermediate
        - advanced
        in: formData
        name: skill_level
        type: string
      - description: JPEG or PNG image (max 5 MB)
        in: formData
        name: profile_picture
        type: file
      produces:
      - application/json
      responses:
        "204":
          description: Profile updated successfully
          schema:
            type: string
        "400":
          description: Bad request (e.g. parse error, invalid field)
          schema: {}
        "500":
          description: Internal server error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Edit current users profile
      tags:
      - users
  /venue-requests:
    post:
      consumes:
      - application/json
      description: Public route. Creates a venue request (status=requested). Protected
        by Turnstile + strict rate limit + honeypot.
      parameters:
      - description: Venue request payload
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/main.createVenueRequestPayload'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/venuerequest.VenueRequest'
        "400":
          description: Bad Request
          schema: {}
        "429":
          description: Too Many Requests
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      summary: Request a new venue to be added
      tags:
      - Venue-Requests
  /venue/{id}:
    get:
      description: Retrieve detailed information for a venue including aggregated
        review and game statistics.
      parameters:
      - description: Venue ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Successful response with venue details
          schema:
            $ref: '#/definitions/main.VenueDetailResponse'
        "400":
          description: 'Bad Request: Invalid venue id'
          schema: {}
        "404":
          description: 'Not Found: Venue not found'
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      summary: Get venue details
      tags:
      - Venue
  /venues:
    post:
      consumes:
      - multipart/form-data
      description: Register a new venue with details such as name, address, location,
        and amenities.
      parameters:
      - description: Venue details (JSON string)
        in: formData
        name: venue
        required: true
        type: string
      - collectionFormat: csv
        description: Venue images (up to 7 files)
        in: formData
        items:
          type: file
        name: images
        type: array
      produces:
      - application/json
      responses:
        "201":
          description: Venue created successfully
          schema:
            $ref: '#/definitions/venues.Venue'
        "400":
          description: Invalid request payload
          schema: {}
        "401":
          description: Unauthorized
          schema: {}
        "500":
          description: Internal server error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Register a venue in our system
      tags:
      - Venue-Owner
  /venues/{venueID}:
    delete:
      description: Deletes a venue by ID and removes all associated images from Cloudinary.
      parameters:
      - description: Venue ID
        in: path
        name: venueID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Venue deleted successfully
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid venue ID
          schema: {}
        "401":
          description: Unauthorized
          schema: {}
        "404":
          description: Venue not found
          schema: {}
        "500":
          description: Internal server error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Delete a venue from the system
      tags:
      - Venue-Owner
    patch:
      consumes:
      - application/json
      description: Allows venue owners to update partial information about their venue.
      parameters:
      - description: Venue ID
        in: path
        name: venueID
        required: true
        type: integer
      - description: Venue update payload
        in: body
        name: updateData
        required: true
        schema:
          additionalProperties: true
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Venue updated successfully
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: 'Bad Request: Invalid input'
          schema: {}
        "500":
          description: 'Internal Server Error: Could not update venue'
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Update venue information
      tags:
      - Venue-Owner
  /venues/{venueID}/available-times:
    get:
      consumes:
      - application/json
      description: Returns one-hour buckets (with availability) for a given venue/day.
      parameters:
      - description: Venue ID
        in: path
        name: venueID
        required: true
        type: integer
      - description: Date in 2025-06-28T00:00:00+05:45 format
        in: query
        name: date
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Hourly availability
          schema:
            items:
              $ref: '#/definitions/main.HourlySlot'
            type: array
        "400":
          description: Bad Request
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: List available time slots for a venue
      tags:
      - Venue
  /venues/{venueID}/bookings:
    post:
      consumes:
      - application/json
      description: Books a venue for the specified time slot if available and calculates
        the total price based on the applicable pricing slot.
      parameters:
      - description: Venue ID
        in: path
        name: venueID
        required: true
        type: integer
      - description: Booking details payload
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/main.BookVenuePayload'
      produces:
      - application/json
      responses:
        "201":
          description: Booking created successfully
          schema:
            $ref: '#/definitions/main.BookingResponse'
        "400":
          description: 'Bad Request: Invalid input'
          schema: {}
        "409":
          description: 'Conflict: Time slot is already booked'
          schema: {}
        "500":
          description: 'Internal Server Error: Could not create booking'
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Book a venue time slot
      tags:
      - Venue
  /venues/{venueID}/bookings/manual:
    post:
      consumes:
      - application/json
      description: Venue owners can create a confirmed booking manually by specifying
        start/end time, price, and optional customer details.
      parameters:
      - description: Venue ID
        in: path
        name: venueID
        required: true
        type: integer
      - description: Manual booking payload
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/main.ManualBookingPayload'
      produces:
      - application/json
      responses:
        "201":
          description: Booking created successfully
          schema:
            $ref: '#/definitions/main.BookingResponse'
        "400":
          description: 'Bad Request: Invalid input or validation failed'
          schema: {}
        "401":
          description: 'Unauthorized: Missing or invalid credentials'
          schema: {}
        "409":
          description: 'Conflict: Time slot is already booked'
          schema: {}
        "500":
          description: 'Internal Server Error: Could not create booking'
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Manually create a confirmed booking
      tags:
      - Venue-Owner
  /venues/{venueID}/cancel-bookings/{bookingID}:
    post:
      consumes:
      - application/json
      description: Marks the booking with status="pending or confirmed" as "canceled".
      parameters:
      - description: Venue ID
        in: path
        name: venueID
        required: true
        type: integer
      - description: Booking ID
        in: path
        name: bookingID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema: {}
        "404":
          description: Not Found
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Cancel a pending booking request or confirmed booking
      tags:
      - Venue
  /venues/{venueID}/canceled-bookings:
    get:
      consumes:
      - application/json
      description: Returns all bookings with status="canceled" for a given venue and
        date.
      parameters:
      - description: Venue ID
        in: path
        name: venueID
        required: true
        type: integer
      - description: Date in YYYY-MM-DD format
        in: query
        name: date
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Scheduled bookings
          schema:
            items:
              $ref: '#/definitions/bookings.ScheduledBooking'
            type: array
        "400":
          description: Bad Request
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: List Canceled booking requests for a venue
      tags:
      - Venue-Owner
  /venues/{venueID}/favorite:
    delete:
      consumes:
      - application/json
      description: Allows authenticated users to remove a venue from their favorites
        list.
      parameters:
      - description: Venue ID
        in: path
        name: venueID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Venue removed from favorites
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: 'Bad Request: Invalid venue ID or unauthenticated request'
          schema: {}
        "500":
          description: 'Internal Server Error: Could not remove favorite'
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Remove a venue from favorites
      tags:
      - Favorite_Venues
    post:
      consumes:
      - application/json
      description: Allows authenticated users to add a venue to their favorites list.
      parameters:
      - description: Venue ID
        in: path
        name: venueID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "201":
          description: Venue added to favorites
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: 'Bad Request: Invalid venue ID or unauthenticated request'
          schema: {}
        "500":
          description: 'Internal Server Error: Could not add favorite'
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Add a venue to favorites
      tags:
      - Favorite_Venues
  /venues/{venueID}/pending-bookings:
    get:
      consumes:
      - application/json
      description: Returns all bookings with status="pending" for a given venue and
        date.
      parameters:
      - description: Venue ID
        in: path
        name: venueID
        required: true
        type: integer
      - description: Date in YYYY-MM-DD format
        in: query
        name: date
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Pending bookings
          schema:
            items:
              items:
                $ref: '#/definitions/main.PendingBookingResponse'
              type: array
            type: array
        "400":
          description: Bad Request
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: List pending booking requests for a venue
      tags:
      - Venue-Owner
  /venues/{venueID}/pending-bookings/{bookingID}/accept:
    post:
      consumes:
      - application/json
      description: Marks the booking with status="pending" as "confirmed".
      parameters:
      - description: Venue ID
        in: path
        name: venueID
        required: true
        type: integer
      - description: Booking ID
        in: path
        name: bookingID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema: {}
        "404":
          description: Not Found
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Accept a pending booking request
      tags:
      - Venue-Owner
  /venues/{venueID}/pending-bookings/{bookingID}/reject:
    post:
      consumes:
      - application/json
      description: Marks the booking with status="pending" as "rejected".
      parameters:
      - description: Venue ID
        in: path
        name: venueID
        required: true
        type: integer
      - description: Booking ID
        in: path
        name: bookingID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema: {}
        "404":
          description: Not Found
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Reject a pending booking request
      tags:
      - Venue-Owner
  /venues/{venueID}/photos:
    delete:
      consumes:
      - application/json
      description: Deletes a specific venue photo from Cloudinary and removes it from
        the database.
      parameters:
      - description: Venue ID
        in: path
        name: venueID
        required: true
        type: integer
      - description: Photo URL to delete
        in: query
        name: photo_url
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Photo deleted successfully
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: 'Bad Request: Missing venue ID or photo URL'
          schema: {}
        "500":
          description: 'Internal Server Error: Could not delete photo'
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Delete a venue photo
      tags:
      - Venue-Owner
    get:
      description: Returns a list of all image URLs associated with the specified
        venue.
      parameters:
      - description: Venue ID
        in: path
        name: venueID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of image URLs
          schema:
            items:
              type: string
            type: array
        "400":
          description: Invalid venue ID
          schema: {}
        "401":
          description: Unauthorized
          schema: {}
        "404":
          description: Venue not found
          schema: {}
        "500":
          description: Internal server error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Retrieve all venue photo URLs
      tags:
      - Venue-Owner
    post:
      consumes:
      - multipart/form-data
      description: Uploads a new venue photo to Cloudinary and adds the new photo
        URL to the venue record.
      parameters:
      - description: Venue ID
        in: path
        name: venueID
        required: true
        type: integer
      - description: Photo file to upload
        in: formData
        name: photo
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: 'Photo uploaded successfully, returns {\"photo_url\": \"<newPhotoURL>\"}'
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: 'Bad Request: Invalid input or missing file'
          schema: {}
        "500":
          description: 'Internal Server Error: Could not process the upload'
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Upload a new photo for a venue
      tags:
      - Venue-Owner
  /venues/{venueID}/pricing:
    get:
      consumes:
      - application/json
      description: Returns all pricing slots for the specified venue. If the optional
        `day` query parameter is provided (e.g., `?day=monday`), only slots for that
        day will be returned.
      parameters:
      - description: Venue ID
        in: path
        name: venueID
        required: true
        type: integer
      - description: Day of week (sunday, monday, tuesday, wednesday, thursday, friday,
          saturday)
        in: query
        name: day
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: List of pricing slots
          schema:
            items:
              $ref: '#/definitions/bookings.PricingSlot'
            type: array
        "400":
          description: Bad Request
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Retrieve pricing slots for a venue (optionally filtered by day)
      tags:
      - Venue-Owner
    post:
      consumes:
      - application/json
      description: Adds new day/time price rules to venue_pricing in bulk
      parameters:
      - description: Venue ID
        in: path
        name: venueID
        required: true
        type: integer
      - description: Pricing slots
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/main.BulkCreatePricingPayload'
      produces:
      - application/json
      responses:
        "201":
          description: Pricing slots created
          schema:
            items:
              $ref: '#/definitions/bookings.PricingSlot'
            type: array
        "400":
          description: Bad Request
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Create one or more pricing slots for a venue
      tags:
      - Venue-Owner
  /venues/{venueID}/pricing/{pricingID}:
    delete:
      consumes:
      - application/json
      description: Allows venue owners to delete a specific pricing slot.
      parameters:
      - description: Venue ID
        in: path
        name: venueID
        required: true
        type: integer
      - description: Pricing Slot ID
        in: path
        name: pricingID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: 'Bad Request: Invalid input'
          schema: {}
        "404":
          description: 'Not Found: No such pricing slot'
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Delete a pricing slot for a venue
      tags:
      - Venue-Owner
    put:
      consumes:
      - application/json
      description: Allows venue owners to update the pricing information (day, time
        range, and price) for a specific pricing slot.
      parameters:
      - description: Venue ID
        in: path
        name: venueID
        required: true
        type: integer
      - description: Pricing Slot ID
        in: path
        name: pricingID
        required: true
        type: integer
      - description: Pricing update payload
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/main.UpdatePricingPayload'
      produces:
      - application/json
      responses:
        "200":
          description: Pricing updated successfully
          schema:
            $ref: '#/definitions/bookings.PricingSlot'
        "400":
          description: 'Bad Request: Invalid input'
          schema: {}
        "500":
          description: 'Internal Server Error: Could not update pricing'
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Update a pricing slot for a venue
      tags:
      - Venue-Owner
  /venues/{venueID}/reviews:
    get:
      consumes:
      - application/json
      description: Retrieves all reviews for a specific venue along with the total
        count and average rating.
      parameters:
      - description: Venue ID
        in: path
        name: venueID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Reviews, total review count, and average rating
          schema:
            additionalProperties: true
            type: object
        "400":
          description: 'Bad Request: Invalid venue ID'
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      summary: Retrieve reviews for a venue
      tags:
      - Venue
    post:
      consumes:
      - application/json
      description: Creates a new review for a specific venue. The review includes
        a rating and comment.
      parameters:
      - description: Venue ID
        in: path
        name: venueID
        required: true
        type: integer
      - description: Review payload
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/main.createReviewPayload'
      produces:
      - application/json
      responses:
        "201":
          description: Review created successfully
          schema:
            $ref: '#/definitions/venuereviews.Review'
        "400":
          description: 'Bad Request: Invalid input'
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Create a review for a venue
      tags:
      - Venue
  /venues/{venueID}/reviews/{reviewID}:
    delete:
      consumes:
      - application/json
      description: Deletes a review for a venue. This operation is allowed only if
        the requester is the review owner.
      parameters:
      - description: Venue ID
        in: path
        name: venueID
        required: true
        type: integer
      - description: Review ID
        in: path
        name: reviewID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Review deleted successfully
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: 'Bad Request: Invalid review ID'
          schema: {}
        "404":
          description: 'Not Found: Review not found'
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Delete a venue review
      tags:
      - Venue
  /venues/{venueID}/scheduled-bookings:
    get:
      consumes:
      - application/json
      description: Returns all bookings with status="confirmed" for a given venue
        and date.
      parameters:
      - description: Venue ID
        in: path
        name: venueID
        required: true
        type: integer
      - description: Date in YYYY-MM-DD format
        in: query
        name: date
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Scheduled bookings
          schema:
            items:
              items:
                $ref: '#/definitions/main.ScheduledBookingResponse'
              type: array
            type: array
        "400":
          description: Bad Request
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: List Scheduled booking requests for a venue
      tags:
      - Venue-Owner
  /venues/{venueID}/status:
    patch:
      consumes:
      - application/json
      description: Allows venue owner to change status only between requested and
        active.
      parameters:
      - description: Venue ID
        in: path
        name: venueID
        required: true
        type: integer
      - description: New status (requested|active)
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/main.updateVenueStatusPayload'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema: {}
        "401":
          description: Unauthorized
          schema: {}
        "403":
          description: Forbidden
          schema: {}
        "404":
          description: Not Found
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Owner updates venue status
      tags:
      - Venue-Owner
  /venues/{venueID}/venue-info:
    get:
      description: Retrieves detailed information (name, address, description, status,
        etc.) about a venue by its ID.
      parameters:
      - description: Venue ID
        in: path
        name: venueID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Detailed venue information
          schema:
            $ref: '#/definitions/venues.VenueInfo'
        "400":
          description: Invalid venue ID
          schema: {}
        "401":
          description: Unauthorized
          schema: {}
        "404":
          description: Venue not found
          schema: {}
        "500":
          description: Internal server error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Get venue information
      tags:
      - Venue-Owner
  /venues/favorites:
    get:
      consumes:
      - application/json
      description: Returns a list of venues that the authenticated user has marked
        as favorites.
      produces:
      - application/json
      responses:
        "200":
          description: List of favorite venues
          schema:
            items:
              $ref: '#/definitions/venues.Venue'
            type: array
        "400":
          description: 'Bad Request: Unauthenticated request'
          schema: {}
        "500":
          description: 'Internal Server Error: Could not retrieve favorites'
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Retrieve user's favorite venues
      tags:
      - Favorite_Venues
  /venues/is-venue-owner:
    get:
      description: Determines whether the authenticated user owns at least one venue
      produces:
      - application/json
      responses:
        "200":
          description: Ownership check result
          schema:
            $ref: '#/definitions/main.isOwnerResponse'
        "401":
          description: Unauthorized
          schema: {}
        "500":
          description: Internal server error
          schema: {}
      security:
      - ApiKeyAuth: []
      summary: Check if user is a venue owner
      tags:
      - Venue-Owner
  /venues/list-venues:
    get:
      consumes:
      - application/json
      description: Get paginated list of venues with filters
      parameters:
      - description: Filter by sport type
        in: query
        name: sport
        type: string
      - description: Latitude for location filter
        in: query
        name: lat
        type: number
      - description: Longitude for location filter
        in: query
        name: lng
        type: number
      - description: Distance in meters from location
        in: query
        name: distance
        type: number
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 7
        description: Items per page
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/main.VenueListResponse'
            type: array
      security:
      - ApiKeyAuth: []
      summary: List venues
      tags:
      - Venue
  /venues/search:
    get:
      description: Search active venues by name or sport using partial (ILIKE + trigram)
        matching.
      parameters:
      - description: Search query (venue name or sport)
        in: query
        name: q
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Successful response with matching venues
          schema:
            $ref: '#/definitions/main.VenueSearchResponse'
        "400":
          description: 'Bad Request: Missing or empty search query'
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      summary: Search venues (basic)
      tags:
      - Venue
  /venues/search/fts:
    get:
      description: Perform full-text search on active venues using weighted ranking
        on name and sport.
      parameters:
      - description: Search query (ranked full-text search)
        in: query
        name: q
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Successful response with ranked venue results
          schema:
            $ref: '#/definitions/main.VenueSearchFTSResponse'
        "400":
          description: 'Bad Request: Missing or empty search query'
          schema: {}
        "500":
          description: Internal Server Error
          schema: {}
      summary: Search venues (full text)
      tags:
      - Venue
securityDefinitions:
  ApiKeyAuth:
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
